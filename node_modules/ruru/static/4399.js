export const __webpack_esm_id__=4399;export const __webpack_esm_ids__=[4399,8549];export const __webpack_esm_modules__={4399:(t,e,n)=>{n.d(e,{SemanticTokensProviderStyling:()=>g,toMultilineTokens2:()=>d}),n.r(e),n(22519);var i=n(19729),s=n(69570),r=n(55818),o=n(81304),a=n(44301);class h{static create(t,e){return new h(t,new u(e))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(t,e){this._startLineNumber=t,this._tokens=e,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null}getRange(){const t=this._tokens.getRange();return t?new o.Range(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn):t}removeTokens(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(e,t.startColumn-1,n,t.endColumn-1),this._updateEndLineNumber()}split(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber,[i,s,r]=this._tokens.split(e,t.startColumn-1,n,t.endColumn-1);return[new h(this._startLineNumber,i),new h(this._startLineNumber+r,s)]}applyEdit(t,e){const[n,i,s]=(0,a.countEOL)(e);this.acceptEdit(t,n,i,s,e.length>0?e.charCodeAt(0):0)}acceptEdit(t,e,n,i,s){this._acceptDeleteRange(t),this._acceptInsertText(new r.Position(t.startLineNumber,t.startColumn),e,n,i,s),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;if(n<0){const t=n-e;return void(this._startLineNumber-=t)}const i=this._tokens.getMaxDeltaLine();if(!(e>=i+1)){if(e<0&&n>=i+1)return this._startLineNumber=0,void this._tokens.clear();if(e<0){const i=-e;this._startLineNumber-=i,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,n,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,e,t.startColumn-1,n,t.endColumn-1)}}_acceptInsertText(t,e,n,i,s){if(0===e&&0===n)return;const r=t.lineNumber-this._startLineNumber;r<0?this._startLineNumber+=e:r>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(r,t.column-1,e,n,i,s)}}class u{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){const e=[];for(let n=0;n<this._tokenCount;n++)e.push(`(${this._getDeltaLine(n)+t},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${e.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return 0===t?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(0===t)return null;const e=this._getStartCharacter(0),n=this._getDeltaLine(t-1),i=this._getEndCharacter(t-1);return new o.Range(0,e+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(t){let e=0,n=this._getTokenCount()-1;for(;e<n;){const i=e+Math.floor((n-e)/2),s=this._getDeltaLine(i);if(s<t)e=i+1;else{if(!(s>t)){let s=i;for(;s>e&&this._getDeltaLine(s-1)===t;)s--;let r=i;for(;r<n&&this._getDeltaLine(r+1)===t;)r++;return new l(this._tokens.subarray(4*s,4*r+4))}n=i-1}}return this._getDeltaLine(e)===t?new l(this._tokens.subarray(4*e,4*e+4)):null}clear(){this._tokenCount=0}removeTokens(t,e,n,i){const s=this._tokens,r=this._tokenCount;let o=0,a=!1,h=0;for(let u=0;u<r;u++){const r=4*u,l=s[r],c=s[r+1],_=s[r+2],g=s[r+3];if((l>t||l===t&&_>=e)&&(l<n||l===n&&c<=i))a=!0;else{if(0===o&&(h=l),a){const t=4*o;s[t]=l-h,s[t+1]=c,s[t+2]=_,s[t+3]=g}o++}}return this._tokenCount=o,h}split(t,e,n,i){const s=this._tokens,r=this._tokenCount,o=[],a=[];let h=o,l=0,c=0;for(let o=0;o<r;o++){const r=4*o,u=s[r],_=s[r+1],g=s[r+2],d=s[r+3];if(u>t||u===t&&g>=e){if(u<n||u===n&&_<=i)continue;h!==a&&(h=a,l=0,c=u)}h[l++]=u-c,h[l++]=_,h[l++]=g,h[l++]=d}return[new u(new Uint32Array(o)),new u(new Uint32Array(a)),c]}acceptDeleteRange(t,e,n,i,s){const r=this._tokens,o=this._tokenCount,a=i-e;let h=0,u=!1;for(let l=0;l<o;l++){const c=4*l;let _=r[c],g=r[c+1],d=r[c+2];const m=r[c+3];if(_<e||_===e&&d<=n){h++;continue}if(_===e&&g<n)_===i&&d>s?d-=s-n:d=n;else if(_===e&&g===n){if(!(_===i&&d>s)){u=!0;continue}d-=s-n}else if(_<i||_===i&&g<s){if(!(_===i&&d>s)){u=!0;continue}_=e,g=n,d=g+(d-s)}else if(_>i){if(0===a&&!u){h=o;break}_-=a}else{if(!(_===i&&g>=s))throw new Error("Not possible!");t&&0===_&&(g+=t,d+=t),_-=a,g-=s-n,d-=s-n}const k=4*h;r[k]=_,r[k+1]=g,r[k+2]=d,r[k+3]=m,h++}this._tokenCount=h}acceptInsertText(t,e,n,i,s,r){const o=0===n&&1===i&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,h=this._tokenCount;for(let r=0;r<h;r++){const h=4*r;let u=a[h],l=a[h+1],c=a[h+2];if(!(u<t||u===t&&c<e)){if(u===t&&c===e){if(!o)continue;c+=1}else if(u===t&&l<e&&e<c)0===n?c+=i:c=e;else{if(u===t&&l===e&&o)continue;if(u===t)if(u+=n,0===n)l+=i,c+=i;else{const t=c-l;l=s+(l-e),c=l+t}else u+=n}a[h]=u,a[h+1]=l,a[h+2]=c}}}}class l{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}var c=n(49471),_=function(t,e){return function(n,i){e(n,i,t)}};let g=class{constructor(t,e,n,i){this._legend=t,this._themeService=e,this._languageService=n,this._logService=i,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new k}getMetadata(t,e,n){const i=this._languageService.languageIdCodec.encodeLanguageId(n),s=this._hashTable.get(t,e,i);let r;if(s)r=s.metadata;else{let s=this._legend.tokenTypes[t];const o=[];if(s){let t=e;for(let e=0;t>0&&e<this._legend.tokenModifiers.length;e++)1&t&&o.push(this._legend.tokenModifiers[e]),t>>=1;const i=this._themeService.getColorTheme().getTokenStyleMetadata(s,o,n);void 0===i?r=2147483647:(r=0,void 0!==i.italic&&(r|=1|(i.italic?1:0)<<11),void 0!==i.bold&&(r|=2|(i.bold?2:0)<<11),void 0!==i.underline&&(r|=4|(i.underline?4:0)<<11),void 0!==i.strikethrough&&(r|=8|(i.strikethrough?8:0)<<11),i.foreground&&(r|=16|i.foreground<<15),0===r&&(r=2147483647))}else r=2147483647,s="not-in-legend";this._hashTable.add(t,e,i,r)}return r}warnOverlappingSemanticTokens(t,e){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${e}`))}warnInvalidLengthSemanticTokens(t,e){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${e}`))}warnInvalidEditStart(t,e,n,i,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${e}) at edit #${n}: The provided start offset ${i} is outside the previous data (length ${s}).`))}};function d(t,e,n){const i=t.data,s=t.data.length/5|0,r=Math.max(Math.ceil(s/1024),400),o=[];let a=0,u=1,l=0;for(;a<s;){const t=a;let c=Math.min(t+r,s);if(c<s){let e=c;for(;e-1>t&&0===i[5*e];)e--;if(e-1===t){let t=c;for(;t+1<s&&0===i[5*t];)t++;c=t}else c=e}let _=new Uint32Array(4*(c-t)),g=0,d=0,m=0,k=0;for(;a<c;){const t=5*a,s=i[t],r=i[t+1],o=u+s|0,h=0===s?l+r|0:r,c=h+i[t+2]|0,f=i[t+3],L=i[t+4];if(c<=h)e.warnInvalidLengthSemanticTokens(o,h+1);else if(m===o&&k>h)e.warnOverlappingSemanticTokens(o,h+1);else{const t=e.getMetadata(f,L,n);2147483647!==t&&(0===d&&(d=o),_[g]=o-d,_[g+1]=h,_[g+2]=c,_[g+3]=t,g+=4,m=o,k=c)}u=o,l=h,a++}g!==_.length&&(_=_.subarray(0,g));const f=h.create(d,_);o.push(f)}return o}g=function(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([_(1,i.IThemeService),_(2,c.ILanguageService),_(3,s.ILogService)],g);class m{constructor(t,e,n,i){this.tokenTypeIndex=t,this.tokenModifierSet=e,this.languageId=n,this.metadata=i,this.next=null}}class k{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,e){for(let n=0;n<e;n++)t[n]=null}_hash2(t,e){return(t<<5)-t+e|0}_hashFunc(t,e,n){return this._hash2(this._hash2(t,e),n)%this._currentLength}get(t,e,n){const i=this._hashFunc(t,e,n);let s=this._elements[i];for(;s;){if(s.tokenTypeIndex===t&&s.tokenModifierSet===e&&s.languageId===n)return s;s=s.next}return null}add(t,e,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const t=this._elements;this._currentLengthIndex++,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength);for(const e of t){let t=e;for(;t;){const e=t.next;t.next=null,this._add(t),t=e}}}this._add(new m(t,e,n,i))}_add(t){const e=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[e],this._elements[e]=t}}},19729:(t,e,n)=>{n.r(e),n.d(e,{Extensions:()=>c,IThemeService:()=>h,Themable:()=>d,getThemeTypeSelector:()=>l,registerThemingParticipant:()=>g,themeColorFromId:()=>u});var i=n(22573),s=n(32293),r=n(35184),o=n(28976),a=n(4968);const h=(0,r.createDecorator)("themeService");function u(t){return{id:t}}function l(t){switch(t){case a.ColorScheme.DARK:return"vs-dark";case a.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case a.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const c={ThemingContribution:"base.contributions.theming"},_=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new i.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,s.toDisposable)(()=>{const e=this.themingParticipants.indexOf(t);this.themingParticipants.splice(e,1)})}getThemingParticipants(){return this.themingParticipants}};function g(t){return _.onColorThemeChange(t)}o.Registry.add(c.ThemingContribution,_);class d extends s.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}},22519:(t,e,n)=>{n.r(e),n.d(e,{TokenMetadata:()=>i});class i{static getLanguageId(t){return(255&t)>>>0}static getTokenType(t){return(768&t)>>>8}static containsBalancedBrackets(t){return!!(1024&t)}static getFontStyle(t){return(30720&t)>>>11}static getForeground(t){return(16744448&t)>>>15}static getBackground(t){return(4278190080&t)>>>24}static getClassNameFromMetadata(t){let e="mtk"+this.getForeground(t);const n=this.getFontStyle(t);return 1&n&&(e+=" mtki"),2&n&&(e+=" mtkb"),4&n&&(e+=" mtku"),8&n&&(e+=" mtks"),e}static getInlineStyleFromMetadata(t,e){const n=this.getForeground(t),i=this.getFontStyle(t);let s=`color: ${e[n]};`;1&i&&(s+="font-style: italic;"),2&i&&(s+="font-weight: bold;");let r="";return 4&i&&(r+=" underline"),8&i&&(r+=" line-through"),r&&(s+=`text-decoration:${r};`),s}static getPresentationFromMetadata(t){const e=this.getForeground(t),n=this.getFontStyle(t);return{foreground:e,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}},44301:(t,e,n)=>{function i(t){let e=0,n=0,i=0,s=0;for(let r=0,o=t.length;r<o;r++){const a=t.charCodeAt(r);13===a?(0===e&&(n=r),e++,r+1<o&&10===t.charCodeAt(r+1)?(s|=2,r++):s|=3,i=r+1):10===a&&(s|=1,0===e&&(n=r),e++,i=r+1)}return 0===e&&(n=t.length),[e,n,t.length-i,s]}n.r(e),n.d(e,{countEOL:()=>i})},49471:(t,e,n)=>{n.r(e),n.d(e,{ILanguageService:()=>i});const i=(0,n(35184).createDecorator)("languageService")}};
//# sourceMappingURL=4399.js.map