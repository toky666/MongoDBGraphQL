export const __webpack_esm_id__=5074;export const __webpack_esm_ids__=[5074,5709];export const __webpack_esm_modules__={25709:(e,i,n)=>{n.r(i),n.d(i,{clearPlatformLanguageAssociations:()=>h,getLanguageIds:()=>p,registerPlatformLanguageAssociation:()=>c});var t=n(16611),s=n(58409),a=n(54835),r=n(60942),o=n(1268),g=n(60891),l=n(85838);let u=[],m=[],f=[];function c(e,i=!1){!function(e,i,n){const s=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:false,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,t.parse)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(r.posix.sep)>=0}}(e);u.push(s),s.userConfigured?f.push(s):m.push(s),n&&!s.userConfigured&&u.forEach(e=>{e.mime===s.mime||e.userConfigured||(s.extension&&e.extension===s.extension&&console.warn(`Overwriting extension <<${s.extension}>> to now point to mime <<${s.mime}>>`),s.filename&&e.filename===s.filename&&console.warn(`Overwriting filename <<${s.filename}>> to now point to mime <<${s.mime}>>`),s.filepattern&&e.filepattern===s.filepattern&&console.warn(`Overwriting filepattern <<${s.filepattern}>> to now point to mime <<${s.mime}>>`),s.firstline&&e.firstline===s.firstline&&console.warn(`Overwriting firstline <<${s.firstline}>> to now point to mime <<${s.mime}>>`))})}(e,0,i)}function h(){u=u.filter(e=>e.userConfigured),m=[]}function p(e,i){return function(e,i){let n;if(e)switch(e.scheme){case a.Schemas.file:n=e.fsPath;break;case a.Schemas.data:n=o.DataUri.parseMetaData(e).get(o.DataUri.META_DATA_LABEL);break;case a.Schemas.vscodeNotebookCell:n=void 0;break;default:n=e.path}if(!n)return[{id:"unknown",mime:s.Mimes.unknown}];n=n.toLowerCase();const t=(0,r.basename)(n),c=d(n,t,f);if(c)return[c,{id:l.PLAINTEXT_LANGUAGE_ID,mime:s.Mimes.text}];const h=d(n,t,m);if(h)return[h,{id:l.PLAINTEXT_LANGUAGE_ID,mime:s.Mimes.text}];if(i){const e=function(e){if((0,g.startsWithUTF8BOM)(e)&&(e=e.substr(1)),e.length>0)for(let i=u.length-1;i>=0;i--){const n=u[i];if(!n.firstline)continue;const t=e.match(n.firstline);if(t&&t.length>0)return n}}(i);if(e)return[e,{id:l.PLAINTEXT_LANGUAGE_ID,mime:s.Mimes.text}]}return[{id:"unknown",mime:s.Mimes.unknown}]}(e,i).map(e=>e.id)}function d(e,i,n){let t,s,a;for(let r=n.length-1;r>=0;r--){const o=n[r];if(i===o.filenameLowercase){t=o;break}if(o.filepattern&&(!s||o.filepattern.length>s.filepattern.length)){const n=o.filepatternOnPath?e:i;o.filepatternLowercase?.(n)&&(s=o)}o.extension&&(!a||o.extension.length>a.extension.length)&&i.endsWith(o.extensionLowercase)&&(a=o)}return t||s||a||void 0}},35074:(e,i,n)=>{n.r(i),n.d(i,{LanguageIdCodec:()=>f,LanguagesRegistry:()=>c});var t=n(22573),s=n(32293),a=n(60891),r=n(25709),o=n(85838),g=n(6477),l=n(28976);const u=Object.prototype.hasOwnProperty,m="vs.editor.nullLanguage";class f{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(m,0),this._register(o.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(e,i){this._languageIdToLanguage[i]=e,this._languageToLanguageId.set(e,i)}register(e){if(this._languageToLanguageId.has(e))return;const i=this._nextLanguageId++;this._register(e,i)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||m}}class c extends s.Disposable{static{this.instanceCount=0}constructor(e=!0,i=!1){super(),this._onDidChange=this._register(new t.Emitter),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new f,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.ModesRegistry.onDidChangeLanguages(e=>{this._initializeFromRegistry()})))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,r.clearPlatformLanguageAssociations)();const e=[].concat(o.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const i of e)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{const i=this._languages[e];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=i.identifier}),i.mimetypes.forEach(e=>{this._mimeTypesMap[e]=i.identifier})}),l.Registry.as(g.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const i=e.id;let n;u.call(this._languages,i)?n=this._languages[i]:(this.languageIdCodec.register(i),n={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,i){const n=i.id;let t=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(e.mimetypes.push(...i.mimetypes),t=i.mimetypes[0]),t||(t=`text/x-${n}`,e.mimetypes.push(t)),Array.isArray(i.extensions)){i.configuration?e.extensions=i.extensions.concat(e.extensions):e.extensions=e.extensions.concat(i.extensions);for(const e of i.extensions)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,extension:e},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(const s of i.filenames)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,filename:s},this._warnOnOverwrite),e.filenames.push(s);if(Array.isArray(i.filenamePatterns))for(const e of i.filenamePatterns)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,filepattern:e},this._warnOnOverwrite);if("string"==typeof i.firstLine&&i.firstLine.length>0){let e=i.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const i=new RegExp(e);(0,a.regExpLeadsToEndlessLoop)(i)||(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,firstline:i},this._warnOnOverwrite)}catch(n){console.warn(`[${i.id}]: Invalid regular expression \`${e}\`: `,n)}}e.aliases.push(n);let s=null;if(void 0!==i.aliases&&Array.isArray(i.aliases)&&(s=0===i.aliases.length?[null]:i.aliases),null!==s)for(const i of s)i&&0!==i.length&&e.aliases.push(i);const o=null!==s&&s.length>0;if(o&&null===s[0]);else{const i=(o?s[0]:null)||n;!o&&e.name||(e.name=i)}i.configuration&&e.configurationFiles.push(i.configuration),i.icon&&e.icons.push(i.icon)}isRegisteredLanguageId(e){return!!e&&u.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const i=e.toLowerCase();return u.call(this._lowercaseNameMap,i)?this._lowercaseNameMap[i]:null}getLanguageIdByMimeType(e){return e&&u.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,i){return e||i?(0,r.getLanguageIds)(e,i):[]}}}};
//# sourceMappingURL=5074.js.map